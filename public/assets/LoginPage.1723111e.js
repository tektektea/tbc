import{Q as m}from"./QImg.d712e103.js";import{ab as w,ac as g,I as y,p as _,o as b,T as x,h as i,f as e,w as v,N as D,S as Q,R as n,O as l,g as u}from"./index.5244c262.js";import{Q as V}from"./QForm.d3e1d555.js";import{_ as q}from"./logo.9361aec2.js";import{u as B}from"./use-quasar.525e2ea7.js";var S="/assets/login.5b35ccd0.svg";const k={class:"bg-grey-1 flex items-center justify-center fullscreen"},E={style:{width:"650px"},class:"row shadow-5 rounded-borders bg-white"},I={class:"col-xs-12 col-sm-6 flex justify-center items-center"},N={class:"col-xs-12 col-sm-6 bg-secondary"},C={setup(j){const r=B(),d=w(),{setLoginData:c,isAuthenticated:p}=g(),t=y({formData:{email:"",password:""}}),f=h=>{r.loading.show(),D.post("auth/login",t.formData).then(a=>{const{user:s,token:o}=a.data;c(o,s),d.push({name:"dashboard"})}).catch(a=>{var s,o;return r.notify({type:"negative",message:((o=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:o.message)||a.toString()})}).finally(()=>r.loading.hide())};return _(()=>{p&&d.push({name:"dashboard"})}),(h,a)=>(b(),x("div",k,[i("div",E,[i("div",I,[e(V,{onSubmit:f,class:"text-center q-ma-md relative-position"},{default:v(()=>[e(m,{style:{width:"70px"},src:q}),e(Q,{class:"full-width q-my-md"}),e(n,{outlined:"",type:"email",modelValue:l(t).formData.email,"onUpdate:modelValue":a[0]||(a[0]=s=>l(t).formData.email=s),label:"Email",rules:[s=>!!s||"Email is required"]},null,8,["modelValue","rules"]),e(n,{outlined:"",class:"q-my-md",type:"password",modelValue:l(t).formData.password,"onUpdate:modelValue":a[1]||(a[1]=s=>l(t).formData.password=s),label:"Password",rules:[s=>!!s||"Password is required"]},null,8,["modelValue","rules"]),e(u,{type:"submit",color:"primary",class:"full-width",rounded:"",label:"Login"}),e(u,{to:{name:"home"},label:"Back to home",flat:"",class:"full-width"})]),_:1})]),i("div",N,[e(m,{style:{width:"240px"},src:S})])])]))}};export{C as default};
