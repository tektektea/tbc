import{Q as p}from"./QImg.077fa4cf.js";import{Q}from"./QPagination.5edfd372.js";import{J as v,k as C,q as k,o as d,c as y,w as i,T as V,h as r,Y as m,Z as w,U as s,$ as x,f as o,a2 as B,a0 as b,a1 as P,g as q,ae as S}from"./index.ed0a09ec.js";import{Q as U}from"./QPage.ccc683a0.js";import{u as $}from"./use-quasar.d76ea416.js";const M={class:"container"},N=r("p",{class:"title"},"Gallery",-1),A=r("br",null,null,-1),E={class:"q-col-gutter-md row items-start"},F={class:"col-12"},Z={setup(G){const c=$(),t=v({openDetail:!1,listData:{per_page:15,data:[],current_page:1,total:1}}),g=l=>u(l),_=C(()=>Math.ceil(t.listData.total/t.listData.per_page)),f=l=>{const{current_page:e,total:a,per_page:n,data:h}=l;t.listData.current_page=e,t.listData.data=h,t.listData.total=a,t.listData.per_page=n},D=l=>{t.selected=l,t.openDetail=!0},u=l=>{V.get("media/gallery",{params:l}).then(e=>{const{message:a,list:n}=e.data;f(n)}).catch(e=>{var a,n;return c.notify({type:"negative",message:((n=(a=e.response)==null?void 0:a.data)==null?void 0:n.message)||e.toString()})}).finally(()=>c.loading.hide())};return k(()=>u(1)),(l,e)=>(d(),y(U,null,{default:i(()=>[r("div",M,[N,A,r("div",E,[(d(!0),m(x,null,w(s(t).listData.data,a=>(d(),m("div",{key:a.id,class:"col-sm-3 col-xs-6"},[o(p,{style:{width:"60%"},onClick:n=>D(a),src:a.thumbnail_path,"no-native-menu":""},null,8,["onClick","src"])]))),128)),r("div",F,[o(Q,{"onUpdate:modelValue":[g,e[0]||(e[0]=a=>s(t).listData.current_page=a)],modelValue:s(t).listData.current_page,max:s(_),input:""},null,8,["modelValue","max"])])])]),o(S,{modelValue:s(t).openDetail,"onUpdate:modelValue":e[2]||(e[2]=a=>s(t).openDetail=a)},{default:i(()=>[o(B,{style:{"max-width":"80%",width:"80%"},class:"bg-white"},{default:i(()=>[o(b,null,{default:i(()=>{var a;return[o(p,{src:(a=s(t).selected)==null?void 0:a.full_path},null,8,["src"])]}),_:1}),o(P,null,{default:i(()=>[o(q,{label:"Close",onClick:e[1]||(e[1]=a=>s(t).openDetail=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{Z as default};
