import{Q as u}from"./QImg.4054e834.js";import{Q}from"./QPagination.7561f0fb.js";import{I as v,k as y,p as V,o as c,c as k,w as r,N as C,h as i,T as m,U as x,P as l,V as B,f as n,W as P,a9 as b,X as w,g as S,aa as q}from"./index.5c86de95.js";import{Q as N}from"./QPage.87ecf7e3.js";import{u as U}from"./use-quasar.20adbb22.js";const $={class:"container"},I=i("p",{class:"title"},"Gallery",-1),M=i("br",null,null,-1),z={class:"q-col-gutter-md row items-start"},A={class:"col-12"},E={class:"bg-white"},j={setup(F){const d=U(),t=v({openDetail:!1,listData:{per_page:15,data:[],current_page:1,total:1}}),g=s=>p(s),_=y(()=>Math.ceil(t.listData.total/t.listData.per_page)),f=s=>{const{current_page:e,total:a,per_page:o,data:h}=s;t.listData.current_page=e,t.listData.data=h,t.listData.total=a,t.listData.per_page=o},D=s=>{t.selected=s,t.openDetail=!0},p=s=>{C.get("media/gallery",{params:s}).then(e=>{const{message:a,list:o}=e.data;f(o)}).catch(e=>{var a,o;return d.notify({type:"negative",message:((o=(a=e.response)==null?void 0:a.data)==null?void 0:o.message)||e.toString()})}).finally(()=>d.loading.hide())};return V(()=>p(1)),(s,e)=>(c(),k(N,null,{default:r(()=>[i("div",$,[I,M,i("div",z,[(c(!0),m(B,null,x(l(t).listData.data,a=>(c(),m("div",{key:a.id,class:"col-6"},[n(u,{onClick:o=>D(a),src:a.thumbnail_path,"no-native-menu":""},null,8,["onClick","src"])]))),128)),i("div",A,[n(Q,{"onUpdate:modelValue":[g,e[0]||(e[0]=a=>l(t).listData.current_page=a)],modelValue:l(t).listData.current_page,max:l(_),input:""},null,8,["modelValue","max"])])])]),n(q,{modelValue:l(t).openDetail,"onUpdate:modelValue":e[2]||(e[2]=a=>l(t).openDetail=a)},{default:r(()=>[i("div",E,[n(P,null,{default:r(()=>{var a;return[n(u,{style:b("min-height:"+s.$q.screen.height*.7+"px"),src:(a=l(t).selected)==null?void 0:a.full_path,ratio:"1"},null,8,["style","src"])]}),_:1}),n(w,null,{default:r(()=>[n(S,{label:"Close",onClick:e[1]||(e[1]=a=>l(t).openDetail=!1)})]),_:1})])]),_:1},8,["modelValue"])]),_:1}))}};export{j as default};
