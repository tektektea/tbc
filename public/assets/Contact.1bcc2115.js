var Le=Object.defineProperty,je=Object.defineProperties;var ze=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var H=(o,e,t)=>e in o?Le(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,x=(o,e)=>{for(var t in e||(e={}))ee.call(e,t)&&H(o,t,e[t]);if(Z)for(var t of Z(e))te.call(e,t)&&H(o,t,e[t]);return o},T=(o,e)=>je(o,ze(e));var re=(o,e)=>{var t={};for(var r in o)ee.call(o,r)&&e.indexOf(r)<0&&(t[r]=o[r]);if(o!=null&&Z)for(var r of Z(o))e.indexOf(r)<0&&te.call(o,r)&&(t[r]=o[r]);return t};import{r as v,d as C,C as I,z as M,q as fe,bk as b,t as L,bo as ye,bp as ke,o as j,c as R,f as w,bq as K,y as k,aC as we,az as Ne,bg as Be,$ as Ze,k as Ce,br as Te,bs as $e,bt as xe,_ as Ae,b as oe,w as _e,J as Ve,Y as Re,h as ie,W as $,U as _,g as De,T as Ue}from"./index.e058ad87.js";import{Q as Fe}from"./QForm.26629945.js";import{u as Ge}from"./use-quasar.b18e3096.js";let z=Symbol("map"),N=Symbol("api"),Me=Symbol("marker"),Se=Symbol("markerCluster"),Oe=Symbol("mapTilesLoaded"),se=v(null),O="click dblclick drag dragend dragstart mousedown mousemove mouseout mouseover mouseup rightclick".split(" ");var Ke=function o(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r;if(Array.isArray(e)){var i=e.length;if(i!=t.length)return!1;for(r=i;r--!==0;)if(!o(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var s=Object.keys(e);if(i=s.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=i;r--!==0;)if(i=s[r],!o(e[i],t[i]))return!1;return!0}return e!==e&&t!==t};class S{constructor({apiKey:e,channel:t,client:r,id:i="__googleMapsScriptId",libraries:s=[],language:n,region:l,version:p,mapIds:u,nonce:d,retries:a=3,url:c="https://maps.googleapis.com/maps/api/js"}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.loading=this.done=!1,this.errors=[],this.version=p,this.apiKey=e,this.channel=t,this.client=r,this.id=i||"__googleMapsScriptId",this.libraries=s,this.language=n,this.region=l,this.mapIds=u,this.nonce=d,this.retries=a,this.url=c,S.instance){if(!Ke(this.options,S.instance.options))throw Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(S.instance.options)}`);return S.instance}S.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url}}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),0<this.libraries.length&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),e}deleteScript(){let e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(r=>{r?t(r.error):e(window.google)})})}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))this.callback();else{var e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}}reset(){this.deleteScript(),this.loading=this.done=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){this.errors.push(e),this.errors.length<=this.retries?(e=this.errors.length*Math.pow(2,this.errors.length),console.log(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},e)):(this.onerrorEvent=e,this.callback())}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){this.resetIfRetryingFailed(),this.done?this.callback():window.google&&window.google.maps&&window.google.maps.version?(console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback()):this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}let ne="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed".split(" ");var J=C({props:{apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1}},emits:ne,setup(o,{emit:e}){let t=v(null),r=v(!1),i=v(null),s=v(null),n=v(!1);I(z,i),I(N,s),I(Oe,n);let l=()=>{const d=x({},o);Object.keys(d).forEach(c=>{d[c]===void 0&&delete d[c]});var a=c=>{var h;return c?{position:(h=s.value)===null||h===void 0?void 0:h.ControlPosition[c]}:{}};return a={scaleControlOptions:o.scaleControlStyle?{style:o.scaleControlStyle}:{},panControlOptions:a(o.panControlPosition),zoomControlOptions:a(o.zoomControlPosition),rotateControlOptions:a(o.rotateControlPosition),streetViewControlOptions:a(o.streetViewControlPosition),fullscreenControlOptions:a(o.fullscreenControlPosition),disableDefaultUI:o.disableDefaultUi},x(x({},d),a)},p=M([s,i],([d,a])=>{d&&a&&(d.event.addListenerOnce(a,"tilesloaded",()=>{n.value=!0}),setTimeout(p,0))},{immediate:!0}),u=()=>{try{const{apiKey:d,region:a,version:c,language:h,libraries:g}=o;se.value=new S({apiKey:d,region:a,version:c,language:h,libraries:g})}catch(d){console.error(d)}};return fe(()=>{u(),se.value.load().then(()=>{s.value=google.maps,i.value=new google.maps.Map(t.value,l()),ne.forEach(a=>{var c;(c=i.value)===null||c===void 0||c.addListener(a,h=>e(a,h))}),r.value=!0;let d=Object.keys(o).filter(a=>!["center","zoom"].includes(a)).map(a=>b(o,a));M([()=>o.center,()=>o.zoom,...d],([a,c],[h,g])=>{var m,f,y;let X=l(),{center:Y,zoom:D}=X,Pe=re(X,["center","zoom"]);(m=i.value)===null||m===void 0||m.setOptions(Pe),c!==void 0&&c!==g&&((f=i.value)===null||f===void 0||f.setZoom(c)),c=!h||a.lng!==h.lng||a.lat!==h.lat,a&&c&&((y=i.value)===null||y===void 0||y.panTo(a))})})}),L(()=>{var d;n.value=!1,i.value&&((d=s.value)===null||d===void 0||d.event.clearInstanceListeners(i.value))}),{mapRef:t,ready:r,map:i,api:s,mapTilesLoaded:n}}});function be(o,e){if(e===void 0&&(e={}),e=e.insertAt,o&&typeof document!="undefined"){var t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=o:r.appendChild(document.createTextNode(o))}}be(`
.mapdiv[data-v-177d06e3] {
  width: 100%;
  height: 100%;
}
`);let Je=xe();ye("data-v-177d06e3");let We={ref:"mapRef",class:"mapdiv"};ke();let Qe=Je(o=>(j(),R("div",null,[w("div",We,null,512),K(o.$slots,"default",{ready:o.ready,map:o.map,api:o.api,mapTilesLoaded:o.mapTilesLoaded},void 0,!0)])));J.render=Qe;J.__scopeId="data-v-177d06e3";let B=(o,e,t,r)=>{let i=null;const s=v(null),n=k(z,v()),l=k(N,v()),p=k(Se,v()),u=Ce(()=>!!(p.value&&l.value&&i instanceof l.value.Marker));return M([n,t],(d,[a,c])=>{var h,g,m;d=JSON.stringify(t.value)!==JSON.stringify(c)||n.value!==a,n.value&&l.value&&d&&(i?(i.setOptions(t.value),u.value&&((h=p.value)===null||h===void 0||h.removeMarker(i),(g=p.value)===null||g===void 0||g.addMarker(i))):(s.value=o==="Marker"?i=new l.value[o](t.value):i=new l.value[o](T(x({},t.value),{map:n.value})),u.value?(m=p.value)===null||m===void 0||m.addMarker(i):i.setMap(n.value),e.forEach(f=>{i==null||i.addListener(f,y=>r(f,y))})))},{immediate:!0}),L(()=>{var d,a;i&&((d=l.value)===null||d===void 0||d.event.clearInstanceListeners(i),u.value?(a=p.value)===null||a===void 0||a.removeMarker(i):i.setMap(null))}),s},le="animation_changed click dblclick rightclick dragstart dragend drag mouseover mousedown mouseout mouseup draggable_changed clickable_changed contextmenu cursor_changed flat_changed rightclick zindex_changed icon_changed position_changed shape_changed title_changed visible_changed".split(" ");var Ye=C({name:"Marker",props:{options:{type:Object,required:!0}},emits:le,setup(o,{emit:e,expose:t,slots:r}){return o=b(o,"options"),e=B("Marker",le,o,e),I(Me,e),t({marker:e}),()=>{var i;return(i=r.default)===null||i===void 0?void 0:i.call(r)}}});C({name:"Polyline",props:{options:{type:Object,required:!0}},emits:O,setup(o,{emit:e}){return o=b(o,"options"),{polyline:B("Polyline",O,o,e)}},render:()=>null});C({name:"Polygon",props:{options:{type:Object,required:!0}},emits:O,setup(o,{emit:e}){return o=b(o,"options"),{polygon:B("Polygon",O,o,e)}},render:()=>null});let ae=O.concat(["bounds_changed"]);C({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:ae,setup(o,{emit:e}){return o=b(o,"options"),{rectangle:B("Rectangle",ae,o,e)}},render:()=>null});let ue=O.concat(["center_changed","radius_changed"]);C({name:"Circle",props:{options:{type:Object,required:!0}},emits:ue,setup(o,{emit:e}){return o=b(o,"options"),{circle:B("Circle",ue,o,e)}},render:()=>null});var Xe=C({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(o,{emit:e}){let t=v(null),r=k(z,v()),i=k(N,v()),s=k(Oe,v(!1)),n=v(!1),l=M([s,i,t],([d,a,c])=>{a&&d&&c&&(p(o.position),n.value=!0,e("content:loaded"),setTimeout(l,0))},{immediate:!0}),p=d=>{r.value&&i.value&&t.value&&r.value.controls[i.value.ControlPosition[d]].push(t.value)},u=d=>{if(r.value&&i.value){let a=null;d=i.value.ControlPosition[d],r.value.controls[d].forEach((c,h)=>{c===t.value&&(a=h)}),a!==null&&r.value.controls[d].removeAt(a)}};return L(()=>u(o.position)),M(()=>o.position,(d,a)=>{u(a),p(d)}),M(()=>o.index,d=>{d&&t.value&&(t.value.index=o.index)}),{controlRef:t,showContent:n}}});let He={ref:"controlRef"};Xe.render=function(o){return j(),R(Ze,null,[we(`
    v-show must be used instead of v-if otherwise there
    would be no rendered content pushed to the map controls
  `),Ne(w("div",He,[K(o.$slots,"default")],512),[[Be,o.showContent]])],2112)};let de="closeclick content_changed domready position_changed visible zindex_changed".split(" ");var qe=C({props:{options:{type:Object,default:()=>({})}},emits:de,setup(o,{slots:e,emit:t}){let r,i=v(),s=v(),n=k(z,v()),l=k(N,v()),p=k(Me,v()),u,d=Ce(()=>{var a;return(a=e.default)===null||a===void 0?void 0:a.call(e).some(c=>c.type!==Te)});return fe(()=>{M([n,()=>o.options],([,a],[c,h])=>{c=JSON.stringify(a)!==JSON.stringify(h)||n.value!==c,n.value&&l.value&&c&&(r?(r.setOptions(T(x({},a),{content:d.value?s.value:a.content})),p.value||r.open({map:n.value})):(i.value=r=new l.value.InfoWindow(T(x({},a),{content:d.value?s.value:a.content})),p.value?u=p.value.addListener("click",()=>{r.open({map:n.value,anchor:p.value})}):r.open({map:n.value}),de.forEach(g=>{r==null||r.addListener(g,m=>t(g,m))})))},{immediate:!0})}),L(()=>{var a;u&&u.remove(),r&&((a=l.value)===null||a===void 0||a.event.clearInstanceListeners(r),r.close())}),{infoWindow:i,infoWindowRef:s,hasSlotContent:d,anchor:p}}});be(`
.info-window-content[data-v-5b373d6e] {
  display: none;
}
.mapdiv .info-window-content[data-v-5b373d6e] {
  display: block;
}
`);let et=xe();ye("data-v-5b373d6e");let tt={key:0,ref:"infoWindowRef",class:"info-window-content"};ke();let rt=et(o=>o.hasSlotContent?(j(),R("div",tt,[K(o.$slots,"default",{},void 0,!0)],512)):we("v-if",!0));qe.render=rt;qe.__scopeId="data-v-5b373d6e";function F(o,e,t,r,i,s){if(!(i-r<=t)){var n=r+i>>1;Ie(o,e,n,r,i,s%2),F(o,e,t,r,n-1,s+1),F(o,e,t,n+1,i,s+1)}}function Ie(o,e,t,r,i,s){for(;i>r;){if(600<i-r){var n=i-r+1,l=t-r+1,p=Math.log(n),u=.5*Math.exp(2*p/3);p=.5*Math.sqrt(p*u*(n-u)/n)*(0>l-n/2?-1:1),Ie(o,e,t,Math.max(r,Math.floor(t-l*u/n+p)),Math.min(i,Math.floor(t+(n-l)*u/n+p)),s)}for(n=e[2*t+s],l=r,u=i,q(o,e,r,t),e[2*i+s]>n&&q(o,e,r,i);l<u;){for(q(o,e,l,u),l++,u--;e[2*l+s]<n;)l++;for(;e[2*u+s]>n;)u--}e[2*r+s]===n?q(o,e,r,u):(u++,q(o,e,u,i)),u<=t&&(r=u+1),t<=u&&(i=u-1)}}function q(o,e,t,r){U(o,t,r),U(e,2*t,2*r),U(e,2*t+1,2*r+1)}function U(o,e,t){let r=o[e];o[e]=o[t],o[t]=r}let ot=o=>o[0],it=o=>o[1];class pe{constructor(e,t=ot,r=it,i=64,s=Float64Array){this.nodeSize=i,this.points=e;let n=this.ids=new(65536>e.length?Uint16Array:Uint32Array)(e.length);s=this.coords=new s(2*e.length);for(let l=0;l<e.length;l++)n[l]=l,s[2*l]=t(e[l]),s[2*l+1]=r(e[l]);F(n,s,i,0,n.length-1,0)}range(e,t,r,i){{var s=this.ids,n=this.coords,l=this.nodeSize;let u=[0,s.length-1,0],d=[],a,c;for(;u.length;){var p=u.pop();let h=u.pop(),g=u.pop();if(h-g<=l){for(p=g;p<=h;p++)a=n[2*p],c=n[2*p+1],a>=e&&a<=r&&c>=t&&c<=i&&d.push(s[p]);continue}let m=Math.floor((g+h)/2);a=n[2*m],c=n[2*m+1],a>=e&&a<=r&&c>=t&&c<=i&&d.push(s[m]);let f=(p+1)%2;(p===0?e<=a:t<=c)&&(u.push(g),u.push(m-1),u.push(f)),(p===0?r>=a:i>=c)&&(u.push(m+1),u.push(h),u.push(f))}e=d}return e}within(e,t,r){{var i=this.ids,s=this.coords,n=this.nodeSize;let a=[0,i.length-1,0],c=[],h=r*r;for(;a.length;){var l=a.pop();let g=a.pop();var p=a.pop();if(g-p<=n){for(l=p;l<=g;l++){p=s[2*l]-e;var u=s[2*l+1]-t;p=p*p+u*u,p<=h&&c.push(i[l])}continue}u=Math.floor((p+g)/2);let m=s[2*u],f=s[2*u+1];{var d=m-e;let y=f-t;d=d*d+y*y}d<=h&&c.push(i[u]),d=(l+1)%2,(l===0?e-r<=m:t-r<=f)&&(a.push(p),a.push(u-1),a.push(d)),(l===0?e+r>=m:t+r>=f)&&(a.push(u+1),a.push(g),a.push(d))}e=c}return e}}let st={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:o=>o},V=Math.fround||(o=>e=>(o[0]=+e,o[0]))(new Float32Array(1));class nt{constructor(e){this.options=E(Object.create(st),e),this.trees=Array(this.options.maxZoom+1)}load(e){let{log:t,minZoom:r,maxZoom:i,nodeSize:s}=this.options;t&&console.time("total time");var n=`prepare ${e.length} points`;t&&console.time(n),this.points=e;let l=[];for(let p=0;p<e.length;p++)e[p].geometry&&l.push(at(e[p],p));for(this.trees[i+1]=new pe(l,he,me,s,Float32Array),t&&console.timeEnd(n),e=i;e>=r;e--)n=+Date.now(),l=this._cluster(l,e),this.trees[e]=new pe(l,he,me,s,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,l.length,+Date.now()-n);return t&&console.timeEnd("total time"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;var i=Math.max(-90,Math.min(90,e[1])),s=e[2]===180?180:((e[2]+180)%360+360)%360-180;let n=Math.max(-90,Math.min(90,e[3]));if(360<=e[2]-e[0])r=-180,s=180;else if(r>s){var l=this.getClusters([r,i,180,n],t);return i=this.getClusters([-180,i,s,n],t),l.concat(i)}t=this.trees[this._limitZoom(t)],s=t.range(r/360+.5,A(n),s/360+.5,A(i)),i=[];for(l of s)s=t.points[l],i.push(s.numPoints?ce(s):this.points[s.index]);return i}getChildren(e){var t=this._getOriginId(e),r=this._getOriginZoom(e);let i=this.trees[r];if(!i||(t=i.points[t],!t))throw Error("No cluster with the specified id.");t=i.within(t.x,t.y,this.options.radius/(this.options.extent*Math.pow(2,r-1))),r=[];for(let s of t)t=i.points[s],t.parentId===e&&r.push(t.numPoints?ce(t):this.points[t.index]);if(r.length===0)throw Error("No cluster with the specified id.");return r}getLeaves(e,t,r){let i=[];return this._appendLeaves(i,e,t||10,r||0,0),i}getTile(e,t,r){let i=this.trees[this._limitZoom(e)];e=Math.pow(2,e);let{extent:s,radius:n}=this.options,l=n/s,p=(r-l)/e,u=(r+1+l)/e,d={features:[]};return this._addTileFeatures(i.range((t-l)/e,p,(t+1+l)/e,u),i.points,t,r,e,d),t===0&&this._addTileFeatures(i.range(1-l/e,p,1,u),i.points,e,r,e,d),t===e-1&&this._addTileFeatures(i.range(0,p,l/e,u),i.points,-1,r,e,d),d.features.length?d:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom&&(e=this.getChildren(e),t++,e.length===1);)e=e[0].properties.cluster_id;return t}_appendLeaves(e,t,r,i,s){t=this.getChildren(t);for(let n of t)if((t=n.properties)&&t.cluster?s=s+t.point_count<=i?s+t.point_count:this._appendLeaves(e,t.cluster_id,r,i,s):s<i?s++:e.push(n),e.length===r)break;return s}_addTileFeatures(e,t,r,i,s,n){for(let u of e){e=t[u];let d=e.numPoints;var l=void 0;let a;var p=void 0;d?(l=Ee(e),a=e.x,p=e.y):(p=this.points[e.index],l=p.properties,a=p.geometry.coordinates[0]/360+.5,p=A(p.geometry.coordinates[1])),l={type:1,geometry:[[Math.round(this.options.extent*(a*s-r)),Math.round(this.options.extent*(p*s-i))]],tags:l};let c;d?c=e.id:this.options.generateId?c=e.index:this.points[e.index].id&&(c=this.points[e.index].id),c!==void 0&&(l.id=c),n.features.push(l)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){let r=[],{radius:i,extent:s,reduce:n,minPoints:l}=this.options,p=i/(s*Math.pow(2,t));for(let h=0;h<e.length;h++){var u=e[h];if(u.zoom<=t)continue;u.zoom=t;let g=this.trees[t+1];var d=g.within(u.x,u.y,p),a=u.numPoints||1;let m=a;for(let f of d){var c=g.points[f];c.zoom>t&&(m+=c.numPoints||1)}if(m>a&&m>=l){c=u.x*a;let f=u.y*a;a=n&&1<a?this._map(u,!0):null;let y=(h<<5)+(t+1)+this.points.length;for(let Y of d){if(d=g.points[Y],d.zoom<=t)continue;d.zoom=t;let D=d.numPoints||1;c+=d.x*D,f+=d.y*D,d.parentId=y,n&&(a||(a=this._map(u,!0)),n(a,this._map(d)))}u.parentId=y,r.push(lt(c/m,f/m,y,m,a))}else if(r.push(u),1<m)for(let f of d)u=g.points[f],u.zoom<=t||(u.zoom=t,r.push(u))}return r}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?E({},e.properties):e.properties;e=this.points[e.index].properties;let r=this.options.map(e);return t&&r===e?E({},r):r}}function lt(o,e,t,r,i){return{x:V(o),y:V(e),zoom:1/0,id:t,parentId:-1,numPoints:r,properties:i}}function at(o,e){let[t,r]=o.geometry.coordinates;return{x:V(t/360+.5),y:V(A(r)),zoom:1/0,index:e,parentId:-1}}function ce(o){var e=o.id,t=Ee(o);return{type:"Feature",id:e,properties:t,geometry:{type:"Point",coordinates:[360*(o.x-.5),360*Math.atan(Math.exp((180-360*o.y)*Math.PI/180))/Math.PI-90]}}}function Ee(o){let e=o.numPoints,t=1e4<=e?`${Math.round(e/1e3)}k`:1e3<=e?`${Math.round(e/100)/10}k`:e;return E(E({},o.properties),{cluster:!0,cluster_id:o.id,point_count:e,point_count_abbreviated:t})}function A(o){return o=Math.sin(o*Math.PI/180),o=.5-.25*Math.log((1+o)/(1-o))/Math.PI,0>o?0:1<o?1:o}function E(o,e){for(let t in e)o[t]=e[t];return o}function he(o){return o.x}function me(o){return o.y}var ge=function o(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r;if(Array.isArray(e)){var i=e.length;if(i!=t.length)return!1;for(r=i;r--!==0;)if(!o(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var s=Object.keys(e);if(i=s.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=i;r--!==0;)if(i=s[r],!o(e[i],t[i]))return!1;return!0}return e!==e&&t!==t};class G{constructor({markers:e,position:t}){this.markers=e,t&&(this._position=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t))}get bounds(){if(this.markers.length!==0||this._position)return this.markers.reduce((e,t)=>e.extend(t.getPosition()),new google.maps.LatLngBounds(this._position,this._position))}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>e.getVisible()).length}push(e){this.markers.push(e)}delete(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}class ut{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return dt(e)}}let dt=o=>o.map(e=>new G({position:e.getPosition(),markers:[e]}));class pt extends ut{constructor(e){var{maxZoom:t,radius:r=60}=e,i=["maxZoom","radius"],s={},n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>i.indexOf(n)&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)0>i.indexOf(n[l])&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(s[n[l]]=e[n[l]])}super({maxZoom:t});this.superCluster=new nt(Object.assign({maxZoom:this.maxZoom,radius:r},s)),this.state={zoom:null}}calculate(e){let t=!1;if(!ge(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var r=this.markers.map(i=>({type:"Feature",geometry:{type:"Point",coordinates:[i.getPosition().lng(),i.getPosition().lat()]},properties:{marker:i}}));this.superCluster.load(r)}return r={zoom:e.map.getZoom()},t||this.state.zoom>this.maxZoom&&r.zoom>this.maxZoom||(t=t||!ge(this.state,r)),this.state=r,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(this.transformCluster.bind(this))}transformCluster({geometry:{coordinates:[e,t]},properties:r}){return r.cluster?new G({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(i=>i.properties.marker),position:new google.maps.LatLng({lat:t,lng:e})}):(e=r.marker,new G({markers:[e],position:e.getPosition()}))}}class ct{constructor(e,t){this.markers={sum:e.length},e=t.map(i=>i.count);let r=e.reduce((i,s)=>i+s,0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...e),max:Math.max(...e)}}}}class ht{render({count:e,position:t},r){return r=window.btoa(`
  <svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">
    <circle cx="120" cy="120" opacity=".6" r="70" />
    <circle cx="120" cy="120" opacity=".3" r="90" />
    <circle cx="120" cy="120" opacity=".2" r="110" />
  </svg>`),new google.maps.Marker({position:t,icon:{url:`data:image/svg+xml;base64,${r}`,scaledSize:new google.maps.Size(45,45)},label:{text:String(e),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:`Cluster of ${e} markers`,zIndex:Number(google.maps.Marker.MAX_ZINDEX)+e})}}class W{constructor(){var e=W,t=google.maps.OverlayView;for(let r in t.prototype)e.prototype[r]=t.prototype[r]}}var P,Q=P||(P={});Q.CLUSTERING_BEGIN="clusteringbegin";Q.CLUSTERING_END="clusteringend";Q.CLUSTER_CLICK="click";let mt=(o,e,t)=>{t.fitBounds(e.bounds)};class gt extends W{constructor({map:e,markers:t=[],algorithm:r=new pt({}),renderer:i=new ht,onClusterClick:s=mt}){super();this.markers=[...t],this.clusters=[],this.algorithm=r,this.renderer=i,this.onClusterClick=s,e&&this.setMap(e)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(r=>{this.addMarker(r,!0)}),t||this.render()}removeMarker(e,t){let r=this.markers.indexOf(e);return r===-1?!1:(e.setMap(null),this.markers.splice(r,1),t||this.render(),!0)}removeMarkers(e,t){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!t&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){let e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,P.CLUSTERING_BEGIN,this);let{clusters:t,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});(r||r==null)&&(this.reset(),this.clusters=t,this.renderClusters()),google.maps.event.trigger(this,P.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>e.setMap(null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){let e=new ct(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,P.CLUSTER_CLICK,r),this.onClusterClick(i,r,t)})),r.marker.setMap(t)})}}let ve=["clusteringbegin","clusteringend","click"];C({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:ve,setup(o,{emit:e,expose:t,slots:r}){let i=v(),s=k(z,v()),n=k(N,v());return I(Se,i),M(s,()=>{s.value&&(i.value=$e(new gt(x({map:s.value},o.options))),ve.forEach(l=>{var p;(p=i.value)===null||p===void 0||p.addListener(l,u=>e(l,u))}))},{immediate:!0}),L(()=>{var l;i.value&&((l=n.value)===null||l===void 0||l.event.clearInstanceListeners(i.value),i.value.clearMarkers(),i.value.setMap(null))}),t({markerCluster:i}),()=>{var l;return(l=r.default)===null||l===void 0?void 0:l.call(r)}}});const vt=C({components:{GoogleMap:J,Marker:Ye},setup(){return{center:{lat:23.739222194099643,lng:92.71682968828705}}}});function ft(o,e,t,r,i,s){const n=oe("Marker"),l=oe("GoogleMap");return j(),R(l,{"api-key":"AIzaSyCYjOcq9F1v_VGx2k2WtlRgbyOGNvk-qYY",style:{width:"100%",height:"500px"},center:o.center,zoom:15},{default:_e(()=>[w(n,{options:{position:o.center}},null,8,["options"])]),_:1},8,["center"])}var yt=Ae(vt,[["render",ft]]);const kt={class:"row"},wt={class:"col-xs-12 col-sm-8"},Ct={class:"col-xs-12 col-sm-4"},Ot={setup(o){const e=Ge(),t=Ve({formData:{name:"",mobile:"",email:"",message:""}}),r=i=>{e.loading.show(),Ue.post("public/contact-request",t.formData).then(s=>{var l;const{message:n}=s.data;e.notify({type:"positive",message:n}),Object.assign(t.formData,{name:"",mobile:"",email:"",message:""}),(l=i==null?void 0:i.target)==null||l.reset()}).catch(s=>{var n,l;return e.notify({type:"negative",message:((l=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:l.message)||s.toString()})}).finally(()=>e.loading.hide())};return(i,s)=>(j(),Re("div",kt,[ie("div",wt,[w(yt)]),ie("div",Ct,[w(Fe,{onSubmit:r,style:{"max-width":"380px"},class:"tcard q-pa-md q-ml-md"},{default:_e(()=>[w($,{modelValue:_(t).formData.name,"onUpdate:modelValue":s[0]||(s[0]=n=>_(t).formData.name=n),outlined:"",label:"Name",rules:[n=>!!n||"Name is required"]},null,8,["modelValue","rules"]),w($,{modelValue:_(t).formData.mobile,"onUpdate:modelValue":s[1]||(s[1]=n=>_(t).formData.mobile=n),outlined:"",label:"Mobile",mask:"##########",rules:[n=>!!n||"Mobile is required"]},null,8,["modelValue","rules"]),w($,{modelValue:_(t).formData.email,"onUpdate:modelValue":s[2]||(s[2]=n=>_(t).formData.email=n),type:"email",outlined:"",label:"Email",rules:[n=>!!n||"Email is required"]},null,8,["modelValue","rules"]),w($,{modelValue:_(t).formData.message,"onUpdate:modelValue":s[3]||(s[3]=n=>_(t).formData.message=n),type:"textarea",outlined:"",label:"Message",rules:[n=>!!n||"Message is required"]},null,8,["modelValue","rules"]),w(De,{type:"submit",style:{"min-width":"120px"},color:"primary",rounded:"",label:"Submit"})]),_:1})])]))}};export{Ot as default};
