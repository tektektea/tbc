import{Q as p}from"./QImg.d712e103.js";import{Q}from"./QPagination.1ac5eefe.js";import{I as v,k as C,p as V,o as d,c as k,w as i,N as y,h as r,T as m,U as w,O as s,V as x,f as o,Y as B,W as b,X as P,g as N,a9 as S}from"./index.5244c262.js";import{Q as U}from"./QPage.69d4d896.js";import{u as q}from"./use-quasar.525e2ea7.js";const I={class:"container"},M=r("p",{class:"title"},"Gallery",-1),$=r("br",null,null,-1),A={class:"q-col-gutter-md row items-start"},E={class:"col-12"},X={setup(F){const c=q(),t=v({openDetail:!1,listData:{per_page:15,data:[],current_page:1,total:1}}),g=l=>u(l),_=C(()=>Math.ceil(t.listData.total/t.listData.per_page)),f=l=>{const{current_page:e,total:a,per_page:n,data:h}=l;t.listData.current_page=e,t.listData.data=h,t.listData.total=a,t.listData.per_page=n},D=l=>{t.selected=l,t.openDetail=!0},u=l=>{y.get("media/gallery",{params:l}).then(e=>{const{message:a,list:n}=e.data;f(n)}).catch(e=>{var a,n;return c.notify({type:"negative",message:((n=(a=e.response)==null?void 0:a.data)==null?void 0:n.message)||e.toString()})}).finally(()=>c.loading.hide())};return V(()=>u(1)),(l,e)=>(d(),k(U,null,{default:i(()=>[r("div",I,[M,$,r("div",A,[(d(!0),m(x,null,w(s(t).listData.data,a=>(d(),m("div",{key:a.id,class:"col-sm-3 col-xs-6"},[o(p,{style:{width:"60%"},onClick:n=>D(a),src:a.thumbnail_path,"no-native-menu":""},null,8,["onClick","src"])]))),128)),r("div",E,[o(Q,{"onUpdate:modelValue":[g,e[0]||(e[0]=a=>s(t).listData.current_page=a)],modelValue:s(t).listData.current_page,max:s(_),input:""},null,8,["modelValue","max"])])])]),o(S,{modelValue:s(t).openDetail,"onUpdate:modelValue":e[2]||(e[2]=a=>s(t).openDetail=a)},{default:i(()=>[o(B,{style:{"max-width":"80%",width:"80%"},class:"bg-white"},{default:i(()=>[o(b,null,{default:i(()=>{var a;return[o(p,{src:(a=s(t).selected)==null?void 0:a.full_path,ratio:"1"},null,8,["src"])]}),_:1}),o(P,null,{default:i(()=>[o(N,{label:"Close",onClick:e[1]||(e[1]=a=>s(t).openDetail=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{X as default};
