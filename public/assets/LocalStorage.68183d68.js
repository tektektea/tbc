import{n as _,i as l,a as i,c as u}from"./index.c2f7f24d.js";function f(t){return l(t)===!0?"__q_date|"+t.toUTCString():i(t)===!0?"__q_expr|"+t.source:typeof t=="number"?"__q_numb|"+t:typeof t=="boolean"?"__q_bool|"+(t?"1":"0"):typeof t=="string"?"__q_strn|"+t:typeof t=="function"?"__q_strn|"+t.toString():t===Object(t)?"__q_objt|"+JSON.stringify(t):t}function a(t){if(t.length<9)return t;const o=t.substring(0,8),e=t.substring(9);switch(o){case"__q_date":return new Date(e);case"__q_expr":return new RegExp(e);case"__q_numb":return Number(e);case"__q_bool":return Boolean(e==="1");case"__q_strn":return""+e;case"__q_objt":return JSON.parse(e);default:return t}}function m(){const t=()=>null;return{has:()=>!1,getLength:()=>0,getItem:t,getIndex:t,getKey:t,getAll:()=>{},getAllKeys:()=>[],set:_,remove:_,clear:_,isEmpty:()=>!0}}function y(t){const n=window[t+"Storage"],o=e=>{const r=n.getItem(e);return r?a(r):null};return{has:e=>n.getItem(e)!==null,getLength:()=>n.length,getItem:o,getIndex:e=>e<n.length?o(n.key(e)):null,getKey:e=>e<n.length?n.key(e):null,getAll:()=>{let e;const r={},s=n.length;for(let g=0;g<s;g++)e=n.key(g),r[e]=o(e);return r},getAllKeys:()=>{const e=[],r=n.length;for(let s=0;s<r;s++)e.push(n.key(s));return e},set:(e,r)=>{n.setItem(e,f(r))},remove:e=>{n.removeItem(e)},clear:()=>{n.clear()},isEmpty:()=>n.length===0}}const c=u.has.webStorage===!1?m():y("local"),p={install({$q:t}){t.localStorage=c}};Object.assign(p,c);export{p as P};
